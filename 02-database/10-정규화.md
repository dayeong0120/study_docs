# 데이터베이스 정규화

## 정규화(Normalization)란?
- 정규화는 이상현상이 있는 릴레이션을 분해하여 이상현상을 없애는 과정이다.
- 정규화는 이상현상이 존재하는 릴에이션을 분해하여 여러 개의 릴레이션을 생성하게 된다.
- 정규화는 이를 단계별로 구분하여 정규형이 높아질수록 이상현상은 줄어들게 된다.

### 이상현상이란?
- 삽입 이상(Insertion Anomaly) : 튜플 삽입 시 특정 속성에 해당하는 값이 없어 NULL을 입력해야 하는 현상
- 삭제 이상(Deletion Anomaly) : 튜플 삭제 시 같이 저장된 다른 정보까지 연쇄적으로 삭제되는 현상
- 갱신 이상(Update Anomaly) : 튜플 갱신 시 중복된 데이터의 일부만 갱신되어 일어나는 데이터 불일치 현상

### 함수 종속성(FD : Functional Dependency)이란?
- 함수 종속성은 어떤 속성 A의 값을 알면 다른 속성 B의 값이 유일하게 정해지는 관계를 종속성이라고 한다.
- A->B로 표기하며 **A를 B의 결정자**(Determinant)라고 한다.
- A->B이면 **A는 B를 결정한다**하고, **B는 A에 종속한다**라고 한다.

### 정규화의 장점과 단점
#### 장점
- 데이터베이스 변경 시 이상 현상을 제거할 수 있다.
- 정규화된 데이터베이스 구조에서는 새로운 데이터형의 추가로 인한 확장 시, 그 주로를 변경하지 않아도 되거나 일부만 변경해도 된다.
- 데이터베이스와 연동된 응용 프로그램에 최소한의 영향만을 미치게 되어 응용프로그램의 생명을 연장시킨다.
#### 단점
- 릴레이션의 분해로 인해 릴레이션 간의 JOIN 연산이 많아진다.
- 질의에 대한 응답시간이 늘려질 수도 있다.

## 제 1 정규형(1NF)
제 1 정규형은 아래의 규칙을 만족해야 한다.

```
1. 각 컬럼이 하나의 속성만을 가져야 한다.
2. 하나의 컬럼은 같은 종류나 타입의 값을 가져야 한다.
3. 각 컬럼이 유일한 이름을 가져야 한다.
4. 컬럼의 순서가 상관없어야 한다.
```

### 제 1 정규화가 필요한 테이블
| 학생번호 | 이름 | 과목 |
|---|---|---|
| 101 | 김유신 | 운영체제, 데이터베이스 |
| 102 | 이순신 | 자바 |
| 103 | 강감찬 | 파이썬, C |

- 각 컬럼이 하나의 값(속성)만을 가져야 한다. -> **불만족! 하나의 컬럼(과목)에 두개의 값을 가짐**
- 하나의 컬럼은 같은 종류나 타입의 값을 가져야 한다 -> **만족**
- 각 컬럼이 유일한 이름을 가져야 한다 -> **만족**
- 컬럼의 순서가 상관없어야 한다 -> **만족**

### 제 1 정규형을 만족하는 테이블
| 학생번호 | 이름 | 과목 |
|---|---|---|
| 101 | 김유신 | 운영체제 |
| 101 | 김유신 | 데이터베이스 |
| 102 | 이순신 | 자바 |
| 103 | 강감찬 | 파이썬 |
| 103 | 강감찬 | C |

각 컬럼이 원자 값을 갖도록 테이블을 분해하면 1 정규형을 만족하게 된다.

## 제 2 정규형(1NF)
제 2 정규형은 아래의 규칙을 만족해야 한다.

```
1. 제 1 정규형을 만족해야 한다.
2. 모든 컬럼이 부분적 종속(Partial Dependency)이 없어야 한다.
  즉, 모든 컬럼이 완전 함수 종속을 만족해야 한다.

* 부분적 종속이란 기본키 중에 특정 컬럼에만 종속되는 것이다.
* 완전 함수 종속이란 기본키의 부분집합이 결정자가 되어서는 안된다는 것이다.
```

### 제 2 정규화가 필요한 테이블
| 학생번호 | 이름 | 과목 | 지도교수 | 성적
|---|---|---|---|---|
| 101 | 김유신 | 운영체제 | 김교수 | 100 |
| 101 | 김유신 | 데이터베이스 | 조교수 | 60 |
| 102 | 이순신 | 자바 | 박교수 | 70 |
| 103 | 강감찬 | 파이썬 | 이교수 | 80 |
| 103 | 강감찬 | C | 최교수 | 90 |



  
  
